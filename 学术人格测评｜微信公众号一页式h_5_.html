<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="format-detection" content="telephone=no,email=no,address=no" />
  <meta name="color-scheme" content="light dark" />
  <title>学术人格测评</title>
  <style>
    :root{
      --bg:#f6f7fb;--card:#ffffff;--text:#0f172a;--muted:#64748b;--primary:#2563eb;--accent:#0ea5e9;--ok:#16a34a;--warn:#f59e0b;--danger:#ef4444;
      --radius:16px;--shadow:0 6px 22px rgba(2,6,23,0.08);
    }
    @media (prefers-color-scheme: dark){
      :root{--bg:#0b1220;--card:#0f172a;--text:#e2e8f0;--muted:#94a3b8;--primary:#60a5fa;--accent:#38bdf8;}
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:16px/1.6 -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,"PingFang SC","Noto Sans CJK SC","Hiragino Sans GB","Microsoft Yahei",sans-serif}
    .wrap{max-width:900px;margin:0 auto;padding:20px}
    .card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px;margin:14px 0}
    h1{font-size:24px;margin:8px 0 6px}
    h2{font-size:18px;margin:0 0 10px}
    .muted{color:var(--muted)}
    .btn{appearance:none;border:0;border-radius:12px;padding:12px 16px;background:var(--primary);color:#fff;font-weight:700;letter-spacing:.2px;box-shadow:var(--shadow);}
    .btn[disabled]{opacity:.6}
    .btn.secondary{background:var(--accent)}
    .grid{display:grid;gap:14px}
    .q{padding:14px;border:1px solid rgba(148,163,184,.25);border-radius:12px}
    .q h3{margin:0 0 8px;font-size:16px}
    .opt{display:flex;gap:10px;align-items:flex-start;padding:12px;border-radius:10px;border:1px solid rgba(148,163,184,.35);}
    .opt + .opt{margin-top:8px}
    .opt input{width:18px;height:18px;margin-top:2px}
    .opt label{display:block;flex:1}
    .bar{height:6px;background:rgba(148,163,184,.3);border-radius:999px;overflow:hidden}
    .bar > i{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--primary),var(--accent));transition:width .3s}
    .footer{font-size:12px;color:var(--muted);text-align:center;margin:24px 0}
    .result .title{font-size:20px;font-weight:800}
    .tag{display:inline-block;padding:2px 8px;border-radius:999px;background:rgba(2,132,199,.12);color:var(--accent);font-size:12px;margin-left:6px}
    .pill{display:inline-block;padding:2px 8px;border:1px solid rgba(148,163,184,.35);border-radius:999px;margin-right:8px;font-size:12px;color:var(--muted)}
    .two-col{display:grid;gap:12px}
    @media(min-width:720px){.two-col{grid-template-columns:1fr 1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>学术人格测评</h1>
      <p class="muted">回答 12 道题，获得你的 <strong>主人格 / 次人格</strong>。无需登录，不收集个人信息。</p>
      <div class="bar"><i id="prog"></i></div>
    </div>

    <form id="form" class="grid" onsubmit="return false;">

      <!-- Q1 -->
      <div class="card q" data-q="Q1">
        <h3>Q1. 你更喜欢怎样开展科研？</h3>
        <div class="opt"><input type="radio" name="Q1" value="A" id="Q1A" required><label for="Q1A">A. 独立推进</label></div>
        <div class="opt"><input type="radio" name="Q1" value="B" id="Q1B"><label for="Q1B">B. 协作为主或都行</label></div>
      </div>

      <!-- Q2 -->
      <div class="card q" data-q="Q2">
        <h3>Q2. 你的想法更常来自？</h3>
        <div class="opt"><input type="radio" name="Q2" value="A" id="Q2A" required><label for="Q2A">A. 灵感火花</label></div>
        <div class="opt"><input type="radio" name="Q2" value="B" id="Q2B"><label for="Q2B">B. 积累中的发现 / 两者都差不多</label></div>
      </div>

      <!-- Q3 -->
      <div class="card q" data-q="Q3">
        <h3>Q3. 你觉得自己的“学术运气”如何（比如关键时刻常有巧合/线索出现）？</h3>
        <div class="opt"><input type="radio" name="Q3" value="A" id="Q3A" required><label for="Q3A">A. 明显不错 / 经常有</label></div>
        <div class="opt"><input type="radio" name="Q3" value="B" id="Q3B"><label for="Q3B">B. 说不上好</label></div>
      </div>

      <!-- Q4 -->
      <div class="card q" data-q="Q4">
        <h3>Q4. 你在科研推进中是否容易拖延？</h3>
        <div class="opt"><input type="radio" name="Q4" value="A" id="Q4A" required><label for="Q4A">A. 会</label></div>
        <div class="opt"><input type="radio" name="Q4" value="B" id="Q4B"><label for="Q4B">B. 基本不会</label></div>
      </div>

      <!-- Q5 -->
      <div class="card q" data-q="Q5">
        <h3>Q5. 你是否擅长把阅读过的文献体系化（比如做思维导图）？</h3>
        <div class="opt"><input type="radio" name="Q5" value="A" id="Q5A" required><label for="Q5A">A. 是</label></div>
        <div class="opt"><input type="radio" name="Q5" value="B" id="Q5B"><label for="Q5B">B. 否 / 不突出</label></div>
      </div>

      <!-- Q6 -->
      <div class="card q" data-q="Q6">
        <h3>Q6. 你在学术社交与公开表达上更像？</h3>
        <div class="opt"><input type="radio" name="Q6" value="A" id="Q6A" required><label for="Q6A">A. 外向、擅长展示与影响</label></div>
        <div class="opt"><input type="radio" name="Q6" value="B" id="Q6B"><label for="Q6B">B. 相对内向，更爱安静深潜与打磨</label></div>
      </div>

      <!-- Q7 -->
      <div class="card q" data-q="Q7">
        <h3>Q7. 团队工作中，你更偏好：</h3>
        <div class="opt"><input type="radio" name="Q7" value="A" id="Q7A" required><label for="Q7A">A. 多线并行、统筹推进</label></div>
        <div class="opt"><input type="radio" name="Q7" value="B" id="Q7B"><label for="Q7B">B. 单线或少量并行、稳步推进</label></div>
      </div>

      <!-- Q8 -->
      <div class="card q" data-q="Q8">
        <h3>Q8. 当多个团队合作时，你的角色更像？</h3>
        <div class="opt"><input type="radio" name="Q8" value="A" id="Q8A" required><label for="Q8A">A. 设计流程、进行资源分配，像领导者</label></div>
        <div class="opt"><input type="radio" name="Q8" value="B" id="Q8B"><label for="Q8B">B. 充当桥梁，促成跨团队共识与协作</label></div>
        <div class="opt"><input type="radio" name="Q8" value="C" id="Q8C"><label for="Q8C">C. 灵感驱动，常凭直觉推进项目</label></div>
      </div>

      <!-- Q9 -->
      <div class="card q" data-q="Q9">
        <h3>Q9. 最新实验/项目/论文的结果不如预期，但汇报将近。你更倾向：</h3>
        <div class="opt"><input type="radio" name="Q9" value="A" id="Q9A" required><label for="Q9A">A. 稳住心态与节奏，减少情绪影响</label></div>
        <div class="opt"><input type="radio" name="Q9" value="B" id="Q9B"><label for="Q9B">B. 主动沟通现状与风险，向导师/同学求助</label></div>
        <div class="opt"><input type="radio" name="Q9" value="C" id="Q9C"><label for="Q9C">C. 多线并行，努力在汇报上呈现更好的成果</label></div>
      </div>

      <!-- Q10 -->
      <div class="card q" data-q="Q10">
        <h3>Q10. 讨论越聊越散，你的本能反应更像哪一种？</h3>
        <div class="opt"><input type="radio" name="Q10" value="A" id="Q10A" required><label for="Q10A">A. 拉回主线并收敛</label></div>
        <div class="opt"><input type="radio" name="Q10" value="B" id="Q10B"><label for="Q10B">B. 把各方观点整理，寻找可能达成一致的点</label></div>
        <div class="opt"><input type="radio" name="Q10" value="C" id="Q10C"><label for="Q10C">C. 先暂停讨论，休息一下，再把节奏拉回来</label></div>
      </div>

      <!-- Q11 -->
      <div class="card q" data-q="Q11">
        <h3>Q11. 周围人对你的第一印象更可能是：</h3>
        <div class="opt"><input type="radio" name="Q11" value="A" id="Q11A" required><label for="Q11A">A. 可靠的组织者，安排很妥帖</label></div>
        <div class="opt"><input type="radio" name="Q11" value="B" id="Q11B"><label for="Q11B">B. 善解人意，能促进大家达成共识</label></div>
        <div class="opt"><input type="radio" name="Q11" value="C" id="Q11C"><label for="Q11C">C. 从容淡定，情绪稳定</label></div>
        <div class="opt"><input type="radio" name="Q11" value="D" id="Q11D"><label for="Q11D">D. 热情健谈，勇于展现自己</label></div>
      </div>

      <!-- Q12 -->
      <div class="card q" data-q="Q12">
        <h3>Q12. 说到成果的“临门一脚”，你更相信：</h3>
        <div class="opt"><input type="radio" name="Q12" value="A" id="Q12A" required><label for="Q12A">A. 时机与巧合常会眷顾我</label></div>
        <div class="opt"><input type="radio" name="Q12" value="B" id="Q12B"><label for="Q12B">B. 规律化的输出与复盘带来可预期结果</label></div>
      </div>

      <div class="card" style="display:flex;gap:12px;justify-content:space-between;align-items:center;flex-wrap:wrap">
        <button class="btn" id="submit">提交并查看结果</button>
        <small class="muted">提示：不收集任何信息，分数仅在本机计算。</small>
      </div>

    </form>

    <div id="result" class="card result" style="display:none">
      <div class="title">测评结果</div>
      <div id="main" style="margin:6px 0 2px;font-weight:800;font-size:18px"></div>
      <div id="vice" class="muted" style="margin-bottom:8px"></div>
      <div id="conf" style="margin-bottom:8px"></div>
      <div class="two-col" id="advice"></div>
      <div id="why" class="muted" style="margin-top:10px"></div>
    </div>

    <div class="footer">© 学术人格测评 · 本页为纯前端静态页面，可直接托管到微信公众号</div>
  </div>

<script>
(function(){
  const P = ["猫头鹰","章鱼","海豚","卡皮巴拉","孔雀","大象","鸵鸟","锦鲤"]; // 人格顺序
  const DESCR = {
    "猫头鹰":"深潜独立、夜间高产；用‘够好即可’阶段线对抗完美主义。",
    "章鱼":"多线并行的项目管家；为每条研究线设退出条件，避免广而不深。",
    "海豚":"跨域协作与共识促成者；先对齐术语/边界，明确谁在何时交付什么。",
    "卡皮巴拉":"从容稳态、抗压强；固定复盘节律与‘明日三件事’保持输出。",
    "孔雀":"表达与影响力强；强化方法与复现实验，避免包装过度。",
    "大象":"长期主义的知识匠人；季度回看投入产出比，避免低效耗时。",
    "鸵鸟":"专注深耕但易回避；用最小可交付拆大课题，设外部里程碑。",
    "锦鲤":"灵感与巧合捕手；把灵感沉淀为可复用的检索与验证流程。",
  };

  const form = document.getElementById('form');
  const prog = document.getElementById('prog');
  form.addEventListener('change', ()=>{
    const filled = [...form.querySelectorAll('input[type="radio"]:checked')].length;
    const pct = Math.round((filled/ (12)) * 100);
    prog.style.width = pct + '%';
  });

  document.getElementById('submit').addEventListener('click', function(){
    if(!form.reportValidity()) return;
    const v = id => (form.querySelector(`input[name="${id}"]:checked`)||{}).value;
    const s = Object.fromEntries(P.map(x=>[x,0]));

    // 6题计分：强分流题 2 分
    if(v('Q3')==='A') s['锦鲤']+=2;
    if(v('Q5')==='A') s['大象']+=2; else if(v('Q5')==='B') s['鸵鸟']+=2;
    if(v('Q6')==='A') s['孔雀']+=2; else if(v('Q6')==='B') s['猫头鹰']+=2;
    if(v('Q8')==='A') s['章鱼']+=2; else if(v('Q8')==='B') s['海豚']+=2; else if(v('Q8')==='C') s['锦鲤']+=2;
    // 校准题 1 分
    if(v('Q9')==='A') s['卡皮巴拉']+=1; else if(v('Q9')==='B') s['孔雀']+=1; else if(v('Q9')==='C') s['章鱼']+=1;
    if(v('Q10')==='A') s['章鱼']+=1; else if(v('Q10')==='B') s['海豚']+=1; else if(v('Q10')==='C') s['卡皮巴拉']+=1;

    // 可选一致性加权（各 +1）
    if(v('Q8')==='A' && v('Q10')==='A') s['章鱼']+=1;
    if(v('Q9')==='A' && v('Q10')==='C') s['卡皮巴拉']+=1;

    // 排序
    let arr = Object.entries(s).sort((a,b)=>b[1]-a[1]);
    const max = arr[0][1];
    let top = arr.filter(x=>x[1]===max).map(x=>x[0]);

    // 破平：Q8 → Q1 → Q11 → Q12
    const pick = (cands, who) => cands.includes(who) ? who : null;
    if(top.length>1){
      const r1 = {A:'章鱼',B:'海豚',C:'锦鲤'}[v('Q8')];
      let resolved = pick(top, r1);
      if(!resolved){
        const q1A=['猫头鹰','鸵鸟','大象'];
        const q1B=['章鱼','海豚','卡皮巴拉','孔雀','锦鲤'];
        resolved = (v('Q1')==='A'?top.find(x=>q1A.includes(x)):top.find(x=>q1B.includes(x))) || null;
      }
      if(!resolved){
        const r3 = {A:'章鱼',B:'海豚',C:'卡皮巴拉',D:'孔雀'}[v('Q11')];
        resolved = pick(top, r3);
      }
      if(!resolved){
        const r4 = v('Q12')==='A' ? '锦鲤' : (top.find(x=>['章鱼','卡皮巴拉'].includes(x))||null);
        resolved = pick(top, r4) || top[0];
      }
      arr = [[resolved, s[resolved]], ...arr.filter(([k])=>k!==resolved)];
    }

    const [main, vice] = [arr[0][0], arr[1][0]];
    const diff = arr[0][1]-arr[1][1];
    const conf = diff>=3? '高' : diff>=1 ? '中' : '低';

    // 展示
    document.getElementById('result').style.display='block';
    document.getElementById('main').innerHTML = `主人格：${main} <span class="tag">置信度：${conf}</span>`;
    document.getElementById('vice').innerText = `次人格：${vice}`;

    // 展示主人格/次人格卡片（仅简介，无建议）
    const advBox = document.getElementById('advice');
    advBox.innerHTML = '';
    [main, vice].forEach((p,i)=>{
      const c = document.createElement('div');
      c.className='card';
      c.innerHTML = `<div class="pill">${i===0?'主':'次'}</div><strong>${p}</strong><p class=\"muted\" style=\"margin:.3rem 0 .6rem\">${DESCR[p]}</p>`;
      advBox.appendChild(c);
    });

    // 解释命中点（可选）
    const hit = [];
    if(v('Q8')) hit.push('Q8 团队角色');
    if(v('Q9')) hit.push('Q9 应对方式');
    if(v('Q6')) hit.push('Q6 社交偏好');
    if(v('Q3')==='A') hit.push('Q3 学术运气');
    document.getElementById('why').innerText = '依据：' + hit.join('、');

    // 滚动至结果
    document.getElementById('result').scrollIntoView({behavior:'smooth'});
  });
})();
</script>
</body>
</html>
